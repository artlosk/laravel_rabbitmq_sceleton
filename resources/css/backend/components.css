/* ========================================
   Components - Cards, Buttons, Tables, Forms, Alerts
   ======================================== */

/* Modern Cards */
.card {
    border: none;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
}

.card:hover:not(.bg-primary):not(.bg-success):not(.bg-info):not(.bg-warning):not(.bg-danger):not(.bg-secondary) {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
}

/* Colored cards hover - subtle effect */
.card.bg-primary:hover,
.card.bg-success:hover,
.card.bg-info:hover,
.card.bg-warning:hover,
.card.bg-danger:hover,
.card.bg-secondary:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
    opacity: 0.95;
}

.card-header {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    border-radius: 12px 12px 0 0 !important;
    color: #374151;
}

.card-header .card-title {
    color: #374151;
}

.card-header .card-title h3 {
    color: #374151;
}

/* Enhanced Buttons */
.btn {
    border-radius: 8px;
    font-weight: 400;
    font-size: 0.875rem;
    transition: all 0.3s ease;
    border: none;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
    padding: 0.375rem 0.75rem;
}

.btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.btn-sm {
    font-size: 0.8rem;
    padding: 0.25rem 0.5rem;
}

.btn:last-child {
    margin-right: 0;
}

/* Улучшенные отступы для групп кнопок */
.d-flex.gap-2 .btn {
    margin-right: 0.5rem;
}

.d-flex.gap-2 .btn:last-child {
    margin-right: 0;
}

.d-flex .btn {
    margin-right: 0.5rem;
}

.d-flex .btn:last-child {
    margin-right: 0;
}

/* Quick Actions Grid */
.d-grid.gap-2 .btn {
    margin-bottom: 0.5rem;
}

.btn-primary {
    background: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%);
}

.btn-success {
    background: linear-gradient(135deg, #10B981 0%, #059669 100%);
}

.btn-danger {
    background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%);
}

/* Modern Tables */
.table {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
}

.table thead th {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border: none;
    font-weight: 600;
    color: #495057;
}

.table tbody tr {
    transition: all 0.2s ease;
}

.table tbody tr:hover {
    background: rgba(59, 130, 246, 0.05);
    transform: scale(1.01);
}

/* Table Links - Light Mode */
.table a {
    color: #2563eb;
    text-decoration: none;
    transition: color 0.2s ease;
}

.table a:hover {
    color: #1d4ed8;
    text-decoration: underline;
}

/* Table Success - Light Mode - Modern Green */
.table .table-success,
.table-success {
    background-color: #d4edda;
    border-left: 3px solid #28a745;
}

.table .table-success td,
.table .table-success th,
.table-success td,
.table-success th {
    background-color: #d4edda;
    border-color: #c3e6cb;
}

.table .table-success:hover,
.table-success:hover {
    background-color: #c3e6cb;
}

.table .table-success a,
.table-success a {
    color: #155724;
}

.table .table-success a:hover,
.table-success a:hover {
    color: #0d4e1b;
    text-decoration: underline;
}

/* Enhanced Forms */
.form-control {
    border-radius: 8px;
    border: 2px solid #e9ecef;
    transition: all 0.3s ease;
    padding: 12px 16px;
    background-color: #fff;
    font-size: 0.9rem;
    min-height: 48px;
    line-height: 1.5;
}

.form-control:focus {
    border-color: #3B82F6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    transform: translateY(-1px);
    background-color: #fff;
}

/* Date Input Fields - Fix для кликабельности */
input[type="date"].form-control,
input[type="date"] {
    position: relative;
    cursor: pointer !important;
    pointer-events: auto !important;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    appearance: none;
    user-select: none;
}

/* Убеждаемся, что date picker открывается при клике в любом месте */
input[type="date"].form-control::-webkit-calendar-picker-indicator,
input[type="date"]::-webkit-calendar-picker-indicator {
    cursor: pointer !important;
    opacity: 1 !important;
    position: absolute !important;
    right: 12px !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 2 !important;
    background: transparent !important;
    padding: 0 !important;
    margin: 0 !important;
    left: 0 !important;
}

/* Делаем весь input кликабельным */
input[type="date"].form-control::-webkit-datetime-edit,
input[type="date"]::-webkit-datetime-edit {
    cursor: pointer !important;
    pointer-events: none !important;
    padding-right: 30px;
    z-index: 1;
}

input[type="date"].form-control::-webkit-datetime-edit-fields-wrapper,
input[type="date"]::-webkit-datetime-edit-fields-wrapper {
    cursor: pointer !important;
    pointer-events: none !important;
}

input[type="date"].form-control::-webkit-datetime-edit-text,
input[type="date"]::-webkit-datetime-edit-text {
    cursor: pointer !important;
    pointer-events: none !important;
}

.form-group label {
    font-weight: 600;
    color: #374151;
    margin-bottom: 8px;
}

/* Enhanced Select Dropdowns */
select.form-control {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 12px center;
    background-repeat: no-repeat;
    background-size: 16px 12px;
    padding-right: 40px;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    color: #374151 !important;
    background-color: #fff !important;
    font-size: 0.9rem !important;
    line-height: 1.5 !important;
}

select.form-control:focus {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%233B82F6' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    color: #374151 !important;
    background-color: #fff !important;
}

select.form-control option {
    color: #374151 !important;
    background-color: #fff !important;
    padding: 8px 12px !important;
}

/* Исправляем проблемы с видимостью текста в селектах - максимальный приоритет */
select.form-control,
select.form-control.custom-select,
.form-control[type="select"],
.form-control select,
select {
    color: #374151 !important;
    background-color: #fff !important;
    border: 2px solid #e9ecef !important;
    font-size: 0.9rem !important;
    line-height: 1.5 !important;
    padding: 12px 40px 12px 16px !important;
    min-height: 48px !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
}

select.form-control:focus,
select.form-control.custom-select:focus,
.form-control[type="select"]:focus,
.form-control select:focus,
select:focus {
    color: #374151 !important;
    background-color: #fff !important;
    border-color: #3B82F6 !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
}

select.form-control option,
select.form-control.custom-select option,
.form-control[type="select"] option,
.form-control select option,
select option {
    color: #374151 !important;
    background-color: #fff !important;
    padding: 8px 12px !important;
}

/* Исправляем стили для AdminLTE и Select2 */
.select2-container .select2-selection--single {
    height: 48px !important;
    line-height: 48px !important;
    border: 2px solid #e9ecef !important;
    border-radius: 8px !important;
    background-color: #fff !important;
}

.select2-container .select2-selection--single .select2-selection__rendered {
    color: #374151 !important;
    line-height: 48px !important;
    padding-left: 16px !important;
    font-size: 0.9rem !important;
}

.select2-container .select2-selection--single .select2-selection__placeholder {
    color: #6b7280 !important;
}

.select2-container .select2-selection--single .select2-selection__arrow {
    height: 40px !important;
    right: 12px !important;
}

.select2-container--default .select2-selection--single:focus {
    border-color: #3B82F6 !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
}

/* Dropdown стили для Select2 */
.select2-dropdown {
    border: 2px solid #e9ecef !important;
    border-radius: 8px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

.select2-results__option {
    padding: 8px 16px !important;
    color: #374151 !important;
    font-size: 0.9rem !important;
}

.select2-results__option--highlighted {
    background-color: #3B82F6 !important;
    color: #fff !important;
}

.select2-results__option--selected {
    background-color: #f3f4f6 !important;
    color: #374151 !important;
}

/* Custom Select Styling */
.custom-select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 12px center;
    background-repeat: no-repeat;
    background-size: 16px 12px;
    padding-right: 40px;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
}

/* Form Control States */
.form-control.is-invalid {
    border-color: #EF4444;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

.form-control.is-valid {
    border-color: #10B981;
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

/* Enhanced Form Groups */
.form-group {
    margin-bottom: 1.5rem;
}

.form-group .form-control {
    margin-bottom: 0.5rem;
}

.form-group .invalid-feedback {
    display: block;
    width: 100%;
    margin-top: 0.25rem;
    font-size: 0.875rem;
    color: #EF4444;
}

.form-group .valid-feedback {
    display: block;
    width: 100%;
    margin-top: 0.25rem;
    font-size: 0.875rem;
    color: #10B981;
}

/* Modern Alerts */
.alert {
    border: none;
    border-radius: 12px;
    padding: 16px 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.alert-success {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    color: #065f46;
}

.alert-danger {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
    color: #991b1b;
}

.alert-info {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    color: #1e40af;
}

.alert-warning {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    color: #92400e;
}

/* Navbar items alignment */
.navbar-nav .nav-item {
    display: flex;
    align-items: center;
}

.navbar-nav .nav-item .btn {
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
    align-self: center;
    line-height: 1.5;
}

/* Dashboard Stats Cards */
.stats-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 16px;
    padding: 24px;
    margin-bottom: 20px;
    transition: all 0.3s ease;
    cursor: pointer;
}

.stats-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

.stats-card .stats-icon {
    font-size: 2.5rem;
    opacity: 0.8;
}

.stats-card .stats-value {
    font-size: 2rem;
    font-weight: 700;
    margin: 8px 0;
}

.stats-card .stats-title {
    font-size: 0.9rem;
    opacity: 0.9;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.stats-card.bg-info,
.stats-card.bg-info *,
.stats-card.bg-info > a,
.stats-card.bg-info .stats-value,
.stats-card.bg-info .stats-title,
.stats-card.bg-info .stats-icon,
.stats-card.bg-info i {
    color: #fff !important;
}

.stats-card.bg-warning,
.stats-card.bg-warning *,
.stats-card.bg-warning > a,
.stats-card.bg-warning .stats-value,
.stats-card.bg-warning .stats-title,
.stats-card.bg-warning .stats-icon,
.stats-card.bg-warning i,
.stats-card.bg-warning .d-flex,
.stats-card.bg-warning .d-flex * {
    color: #fff !important;
}

/* Pagination Styles */
/* Переопределяем nav с Bootstrap 5 пагинацией */
nav.d-flex.justify-content-between {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100%;
    gap: 1rem;
}

/* Мобильная версия - скрываем */
nav.d-flex.justify-content-between > .d-flex.d-sm-none {
    display: none !important;
}

/* Десктоп версия - переопределяем justify-content-between на центрирование */
nav.d-flex.justify-content-between > .d-none.d-sm-flex {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 1rem;
    width: 100%;
    max-width: 100%;
}

/* Отменяем flex-sm-fill для центрирования */
nav.d-flex.justify-content-between > .d-none.d-sm-flex.flex-sm-fill {
    flex: 0 0 auto !important;
}

/* Текст "Showing X to Y of Z results" - центрируем */
nav.d-flex.justify-content-between > .d-none.d-sm-flex > div:first-child {
    text-align: center;
    order: 2;
}

/* Блок с кнопками пагинации - центрируем */
nav.d-flex.justify-content-between > .d-none.d-sm-flex > div:last-child {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    order: 1;
    width: 100%;
}

nav .pagination,
.pagination {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    align-items: center !important;
    padding-left: 0 !important;
    list-style: none !important;
    border-radius: 8px;
    margin-top: 0 !important;
    margin-bottom: 0;
    justify-content: center !important;
    gap: 4px !important;
    width: auto !important;
}

nav .pagination > li,
.pagination > li,
nav .pagination .page-item,
.pagination .page-item {
    margin: 0 !important;
    display: block !important;
    flex-shrink: 0 !important;
    list-style: none !important;
    float: none !important;
    width: auto !important;
    height: auto !important;
}

.pagination > li > a,
.pagination > li > span,
.pagination .page-item .page-link,
nav .pagination > li > a,
nav .pagination > li > span,
nav .pagination .page-item .page-link {
    position: relative;
    display: block !important;
    padding: 0.5rem 0.75rem !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    line-height: 1.25;
    color: #3B82F6;
    background-color: #fff;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    text-decoration: none;
    transition: all 0.3s ease;
    min-width: 40px;
    text-align: center;
    font-weight: 500;
    white-space: nowrap;
}

.pagination > li > a:hover,
.pagination > li > span:hover,
.pagination .page-item .page-link:hover {
    z-index: 2;
    color: #1D4ED8;
    background-color: #e9ecef;
    border-color: #dee2e6;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.pagination > li.active > a,
.pagination > li.active > span,
.pagination .page-item.active .page-link {
    z-index: 3;
    color: #fff;
    background: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%);
    border-color: #3B82F6;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
}

.pagination > li.disabled > a,
.pagination > li.disabled > span,
.pagination .page-item.disabled .page-link {
    color: #6c757d;
    pointer-events: none;
    cursor: auto;
    background-color: #fff;
    border-color: #dee2e6;
    opacity: 0.5;
}

.pagination > li:first-child > a,
.pagination > li:first-child > span,
.pagination .page-item:first-child .page-link {
    margin-left: 0;
    border-top-left-radius: 8px;
    border-bottom-left-radius: 8px;
}

.pagination > li:last-child > a,
.pagination > li:last-child > span,
.pagination .page-item:last-child .page-link {
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
}

